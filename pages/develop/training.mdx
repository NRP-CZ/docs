# InstallFest NRP Invenio

C칤le 코kolen칤:

* Nainstalovat si invenio
* Vytvo콏it nov칳 model
* Sezn치mit se s cmdline n치stroji
* Sezn치mit se s UI konfigurac칤

Nebudeme dnes 콏e코it:

* Napojen칤 na AAI
* Harvestov치n칤 do/z repozit치콏e
* Konfiguraci pro produk캜n칤 nasazen칤

## 칔vod

TODO: prezentace

## Prerekvizity

Invenio pro sv콢j b캩h pot콏ebuje posix syst칠m (linux, macos) a n캩kolik z치vislost칤.
Je pot콏eba m칤t nainstalovan칠 z치vislosti z [Getting started](/get_started).
TODO: update get_started.mdx

## Instalace

Instalaci zaji코콘uje skript `nrp-installer.sh`, kter칳 st치hnete z githubu a spust칤te s n치zvem repozit치콏e, kter칳 chcete vytvo콏it. `rdm-12` je aktu치ln칤 v캩tev podporovan칠 verze Invenio. Na konci Q3 se o캜ek치v치 vyd치n칤 Invenio RDM 13, v코echny oborov칠 repozit치콏e by pak m캩ly za캜칤nat s touto verz칤.

```bash
cd demo

curl -sSL https://raw.githubusercontent.com/oarepo/nrp-devtools/rdm-12/nrp-installer.sh >nrp-installer.sh
```

```bash
export REPO=$PWD/my-repo

bash nrp-installer.sh $REPO
```

TODO: do generic parameters prihodit support contact? (co se zobrazuje ve footeru?)

```
游꿗 Human readable name of the repository
   Demo repository
游꿗 Description of the repository
    (Finish with 'Alt+Enter' or 'Esc then Enter')
> My Demo Repository
 
游꿗 List of languages to use in the repository,
2 letter code separated by either comma or space
   cs de

...

Your repository is now initialized. 

To test it out, start the repository in development mode
via ./nrp develop and head to https://127.0.0.1:5000/
to check that everything has been installed correctly.

Then add metadata models via ./nrp model create <model_name>,
edit the model and compile it via ./nrp model compile <model_name>.

To generate a default UI for the model, run ./nrp ui detail <model_name>.
```

## Prvn칤 kompilace a spu코t캩n칤

```bash
cd $REPO

./nrp develop

```

```

Development server is running

1 or server     - restart python server
2 or ui         - restart webpack server
0 or stop       - stop the server (Ctrl-C also works)

```

### Kontrola

Otev콏ete prohl칤쬰캜 a zadejte adresu `https://127.0.0.1:5000/`. M캩li byste vid캩t hlavn칤 str치nku repozit치콏e.

## Import po캜치te캜n칤ch slovn칤k콢 a dat

Nechte server b캩쬰t a v nov칠m termin치lu spus콘te:

```bash
REPO=....

cd $REPO
source .venv/bin/activate
invenio oarepo fixtures load ./fixtures --verbose
```

V prohl칤쬰캜i klikn캩te na `Communities` a ujist캩te se, 쬰 je tam komunita `Generic`.

## Vytvo콏en칤 u쬴vatele

Poj캞me vytvo콏it u쬴vatele, kter칳 bude vlastn칤kem komunity `Generic`.

```bash
invenio users create -a -c "manazer@e-infra.cz" --profile '{"full_name": "Velk칳 Mana쬰r"}'

invenio access allow administration-access user manazer@e-infra.cz
invenio access allow administration-moderation user manazer@e-infra.cz
```

```bash
invenio oarepo communities members add generic "manager@e-infra.cz" owner
```

A n치sledn캩 vytvo콏te u쬴vatele `clen@e-infra.cz` a nastavte mu roli "member" ve stejn칠 komunit캩.

### Kontrola

P콏ihlaste se do repozit치콏e jako mana쬰r. M캩li byste vid캩t v menu polo쬶u `Communities` a v nich mo쬹ost vytv치콏et nov칠 komunity jako mana쬰r. Jako 캜len tla캜칤tko pro vytvo콏en칤 komunity neuvid칤te.

# Konfigurace UI - Branding

Nyn칤 je mo쬹칠 p콏izp콢sobit z치kladn칤 UI repozit치콏e formou nastaven칤 loga, v칳m캩ny text콢 a barevnosti.

Detailn캩j코칤 dokumentace je k dispozici pod sekci [Branding](https://nrp-cz.github.io/docs/customize/branding/styling)

## Nastaven칤 loga

- St치hneme si nov칠 logo z [training-assets](./training-assets/my-logo.svg).

- Pou쬴jeme n치sleduj칤c칤 postup:
https://nrp-cz.github.io/docs/customize/branding/logo

- Aby se zm캩ny projevily, je t콏eba restartovat development server

```
0 or stop
./nrp develop
```

ui konfigurace - how to change logo, colors

# Novy model

TODO: verze do metadat

1. nrp model create

yaml

2. nrp model compile

?? smazat databazi?

2. ./nrp develop

uprava modelu - pridat keywords

nrp model compile

./nrp reindex || drop

./nrp develop a nechat bezet

cmdline client + vytvoreni zaznamu + API

./nrp ui detail model_name

vyzkouset ze se zobrazi detail pro zaznam z api

search ui - pridat keywords

do deposit formu pridat keywords

vyzkouseni "hotoveho" repozitare

preklady ???
./nrp make translations

ccmm
